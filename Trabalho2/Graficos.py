from statistics import mean
import matplotlib.pyplot as plt
import numpy as np


Execution_times_listen_request = [0.0009992122650146484,0.001001119613647461,0.001005411148071289,0.0009753704071044922]
Execution_times_manage_flight_zones = [0.10499739646911621,0.09899592399597168,0.06899762153625488,0.0009999275207519531,0.0010006427764892578,0.001003265380859375,0.0010066032409667969,0.0010061264038085938,0.0009996891021728516,0.0009980201721191406,0.0010004043579101562,0.0009980201721191406,0.00099945068359375,0.000997304916381836,0.0010042190551757812,0.0009996891021728516,0.0010020732879638672,0.0010018348693847656,0.0010063648223876953,0.0010020732879638672,0.0009961128234863281,0.0010013580322265625,0.0019974708557128906,0.001001596450805664,0.0010039806365966797,0.0010030269622802734,0.0009701251983642578,0.0010061264038085938,0.0010030269622802734,0.0009996891021728516,0.0009989738464355469,0.0010037422180175781,0.0019958019256591797,0.0009996891021728516,0.0010037422180175781,0.0010001659393310547,0.0009996891021728516,0.00099945068359375,0.00099945068359375,0.0010004043579101562,0.0010035037994384766,0.0010030269622802734,0.0010113716125488281,0.00099945068359375,0.0010097026824951172,0.0010001659393310547,0.0010056495666503906,0.0010004043579101562,0.0009622573852539062,0.0010037422180175781,0.000997781753540039,0.0010006427764892578,0.0009980201721191406,0.00099945068359375,0.0010056495666503906,0.0010046958923339844,0.0010068416595458984,0.0010004043579101562,0.0019960403442382812,0.0009686946868896484,0.001001119613647461,0.0010023117065429688,0.0010001659393310547,0.001001596450805664,0.0009968280792236328,0.0009677410125732422,0.0010008811950683594,0.001005411148071289,0.001001596450805664,0.0009992122650146484,0.0010013580322265625,0.0009930133819580078,0.0009591579437255859,0.0010061264038085938,0.0010013580322265625,0.0009686946868896484,0.0009992122650146484,0.0009992122650146484,0.0010018348693847656,0.0010030269622802734,0.0070035457611083984,0.0010066032409667969,0.000997781753540039,0.0009999275207519531,0.0010025501251220703,0.0009946823120117188,0.005996227264404297,0.002008676528930664,0.0009713172912597656,0.0009930133819580078,0.0009694099426269531,0.0009679794311523438,0.0010006427764892578,0.0010013580322265625,0.0010001659393310547,0.0009648799896240234,0.0010001659393310547,0.0009620189666748047,0.0010020732879638672,0.0009992122650146484,0.001009225845336914,0.001001596450805664,0.000997304916381836]
Execution_times_wait_list = [0.022995948791503906,0.01900196075439453,0.0010025501251220703,0.0010013580322265625,0.0009691715240478516,0.0010027885437011719,0.0009579658508300781,0.0009570121765136719,0.0009706020355224609,0.001004934310913086,0.0009667873382568359,0.0009613037109375,0.0010063648223876953,0.0009660720825195312,0.0010035037994384766,0.0010066032409667969,0.0030066967010498047,0.0009968280792236328,0.001001119613647461,0.0009975433349609375,0.001001596450805664,0.0010004043579101562,0.0009942054748535156,0.0009968280792236328,0.0010008811950683594,0.0009682178497314453,0.0010004043579101562,0.0010042190551757812,0.0009987354278564453,0.0009744167327880859,0.0009701251983642578,0.0009975433349609375,0.0009732246398925781,0.0010166168212890625,0.0010020732879638672,0.001016378402709961,0.0040018558502197266,0.0009813308715820312,0.0010035037994384766,0.001964092254638672,0.0010025501251220703,0.0009996891021728516,0.001001119613647461,0.0009632110595703125,0.0009937286376953125,0.0009980201721191406,0.0009963512420654297,0.000997304916381836,0.00099945068359375,0.0020122528076171875,0.0009999275207519531,0.001003265380859375,0.0009672641754150391,0.0009679794311523438,0.001001596450805664,0.0009675025939941406,0.0009980201721191406,0.0009827613830566406,0.0010001659393310547,0.0009653568267822266,0.0010008811950683594,0.00099945068359375,0.0010023117065429688,0.0009996891021728516,0.0019626617431640625,0.0009691715240478516,0.0009565353393554688,0.0009517669677734375,0.0010013580322265625,0.001004934310913086,0.0009667873382568359,0.0009675025939941406,0.0010051727294921875,0.0009665489196777344,0.0009598731994628906,0.0010020732879638672,0.0010051727294921875,0.0010068416595458984]
Execution_times_fly = [0.0010020732879638672,0.0010013580322265625,0.0010030269622802734,0.0009686946868896484,0.0009679794311523438,0.0010023117065429688,0.00096893310546875,0.0009434223175048828,0.0010063648223876953,0.0010061264038085938,0.0010018348693847656,0.0010018348693847656,0.001003265380859375,0.001003265380859375,0.0009963512420654297,0.0010020732879638672,0.0010058879852294922,0.002004384994506836,0.0010025501251220703,0.0010037422180175781,0.001001596450805664,0.0009844303131103516,0.0010018348693847656,0.0009992122650146484,0.0010035037994384766,0.0019707679748535156,0.0010013580322265625,0.0010030269622802734,0.0009996891021728516,0.0010099411010742188,0.00099945068359375,0.0009987354278564453,0.0010001659393310547,0.0009999275207519531,0.0010004043579101562,0.0009984970092773438,0.0009989738464355469,0.0010023117065429688,0.0010027885437011719,0.0010001659393310547,0.0010008811950683594,0.0010018348693847656,0.0020003318786621094,0.0019974708557128906,0.0009987354278564453,0.00099945068359375,0.0010001659393310547,0.0009980201721191406,0.0010027885437011719,0.001001596450805664,0.0020012855529785156,0.002999544143676758,0.0009987354278564453,0.0010008811950683594,0.0009982585906982422,0.0010013580322265625,0.0019998550415039062,0.0010018348693847656,0.0010008811950683594,0.0010030269622802734,0.0010001659393310547,0.0010030269622802734,0.00099945068359375,0.0010006427764892578,0.0010013580322265625,0.0009999275207519531,0.001005411148071289,0.001969575881958008,0.0009984970092773438,0.0009646415710449219,0.0009999275207519531,0.001001596450805664,0.001001119613647461,0.0009551048278808594,0.0009999275207519531,0.000957489013671875,0.0009763240814208984,0.0019593238830566406,0.0009679794311523438,0.0010004043579101562,0.0009653568267822266,0.0010018348693847656,0.0010023117065429688,0.0009686946868896484,0.0010006427764892578,0.0010037422180175781,0.0010004043579101562,0.0009999275207519531,0.0010030269622802734,0.0010023117065429688,0.0010008811950683594,0.001001119613647461,0.0009658336639404297,0.0009999275207519531,0.0009999275207519531,0.001001119613647461,0.0010223388671875,0.0009710788726806641,0.0010027885437011719,0.001005411148071289,0.0010001659393310547,0.000997781753540039,0.0009655952453613281,0.0009484291076660156,0.0009553432464599609,0.0009984970092773438,0.0009665489196777344,0.0009558200836181641,0.0009684562683105469,0.0009982585906982422,0.0010004043579101562,0.000997781753540039,0.0009660720825195312,0.0010030269622802734,0.0009675025939941406,0.0010035037994384766,0.0009708404541015625,0.0010023117065429688,0.0020058155059814453,0.0010020732879638672,0.0010004043579101562,0.0009937286376953125,0.001001119613647461,0.0009996891021728516,0.0009984970092773438,0.0010006427764892578,0.0010077953338623047,0.0010039806365966797,0.0010004043579101562,0.0010008811950683594,0.0010023117065429688,0.001001119613647461,0.0010013580322265625,0.0009984970092773438,0.0010013580322265625,0.001001119613647461,0.001005411148071289,0.0019996166229248047,0.0010044574737548828,0.0010006427764892578,0.0009996891021728516,0.006999492645263672,0.0020034313201904297,0.0009961128234863281,0.002000093460083008,0.0009927749633789062,0.002000093460083008,0.0010037422180175781,0.0009996891021728516,0.002962827682495117,0.0020017623901367188,0.0009963512420654297,0.0010023117065429688,0.0019826889038085938,0.0009541511535644531,0.0010044574737548828,0.0009999275207519531,0.0019562244415283203,0.00298309326171875,0.0009706020355224609,0.0009672641754150391,0.0010027885437011719,0.0040073394775390625,0.0029981136322021484,0.0010030269622802734,0.001003265380859375,0.002968311309814453,0.0019702911376953125,0.0009572505950927734,0.0009784698486328125,0.0019593238830566406,0.0010056495666503906,0.0029859542846679688,0.0019683837890625,0.001997232437133789,0.0019562244415283203,0.0009567737579345703,0.0009663105010986328,0.0009655952453613281,0.0009648799896240234,0.0010027885437011719,0.0019731521606445312,0.0009677410125732422,0.0009987354278564453,0.0009593963623046875,0.0019571781158447266,0.0009667873382568359,0.001003265380859375,0.000957489013671875,0.0009541511535644531,0.0020051002502441406,0.0009548664093017578,0.001003265380859375,0.0019958019256591797,0.0009598731994628906,0.0009996891021728516,0.0009665489196777344,0.000957489013671875,0.0009696483612060547,0.0019996166229248047,0.001001596450805664,0.0009744167327880859,0.0010018348693847656,0.0010023117065429688,0.002004861831665039,0.0009608268737792969,0.0010035037994384766,0.0010025501251220703,0.002953767776489258,0.0019953250885009766,0.0009698867797851562,0.0010006427764892578,0.0009772777557373047,0.0010018348693847656,0.0019087791442871094,0.0010025501251220703,0.0010018348693847656,0.0010025501251220703,0.0020058155059814453]
Execution_times_emergency_button = [0.001005411148071289,0.001020193099975586,0.0009989738464355469,0.0009965896606445312,0.0010035037994384766,0.000997781753540039,0.001001119613647461,0.0010001659393310547,0.0009996891021728516,0.0009970664978027344,0.0010039806365966797,0.0010025501251220703,0.0009992122650146484,0.00099945068359375,0.0010080337524414062,0.0009996891021728516,0.0010159015655517578,0.0009949207305908203,0.0010063648223876953,0.0010035037994384766,0.0010030269622802734,0.008008956909179688,0.001003265380859375,0.0009891986846923828,0.0010111331939697266,0.0009911060333251953,0.0009882450103759766,0.0010025501251220703,0.0010228157043457031,0.0010027885437011719,0.0009944438934326172,0.0039980411529541016,0.0010068416595458984,0.0009791851043701172,0.0009768009185791016,0.0009887218475341797,0.0010676383972167969,0.0009553432464599609,0.0010166168212890625,0.0010035037994384766,0.0010068416595458984,0.0009646415710449219,0.0009758472442626953,0.001984834671020508,0.0009763240814208984,0.0009558200836181641,0.0009951591491699219,0.000982522964477539]

listas = [Execution_times_listen_request,Execution_times_manage_flight_zones,Execution_times_wait_list,Execution_times_fly,Execution_times_emergency_button]

max_values= [max(Execution_times_listen_request),max(Execution_times_manage_flight_zones),max(Execution_times_wait_list),max(Execution_times_fly),max(Execution_times_emergency_button)]

for i in listas:
    for j in range(len(i)):
        i[j] *=1000

#fig, ((ax0,ax1),(ax2,ax3),(ax4,ax5)) = plt.subplots( nrows=3,ncols=2)
fig, axs = plt.subplots( nrows=3,ncols=2,tight_layout=True)

labels = ['LR','MFZ','W','F','B']
cont = 0


#ax0.hist(Execution_times_listen_request,bins=20)
#ax1.hist(Execution_times_manage_flight_zones,bins=50)
#ax2.hist(Execution_times_wait_list,bins=15)
#ax3.hist(Execution_times_fly,bins=20)
#ax4.hist(Execution_times_emergency_button,bins=5)
#ax5.hist(0,bins=1)
#plt.show()
#ax0.hist(listas[0],bins=20)
#ax1.hist(listas[1],bins=50)
#ax2.hist(listas[2],bins=15)
#ax3.hist(listas[3],bins=20)
#ax4.hist(listas[4],bins=5)
#ax5.hist(0,bins=1)
#plt.show()
maximo = max(Execution_times_fly)
minimo = min(Execution_times_fly)



axs[0,0].hist(listas[0],bins=5)
axs[0,0].set_title(labels[0])
axs[0,1].hist(listas[1],bins=50)
axs[0,1].set_title(labels[1])
axs[1,0].hist(listas[2],bins=15)
axs[1,0].set_title(labels[2])
axs[1,1].hist(listas[3],bins=np.arange(minimo,maximo,(minimo+maximo)/2))
axs[1,1].set_title(labels[3])
axs[2,0].hist(listas[4],bins=5)
axs[2,0].set_title(labels[4])
plt.show()


x=np.arange(len(labels))
width=.1
medias = [mean(Execution_times_listen_request),mean(Execution_times_manage_flight_zones),mean(Execution_times_wait_list),mean(Execution_times_fly),mean(Execution_times_emergency_button)]
fig2,neu = plt.subplots()
rec1=neu.bar(x-1,medias[0],width,label='LR')
rec2=neu.bar(x-.75,medias[1],width,label='MFZ')
rec3=neu.bar(x-.5,medias[2],width,label='W')
rec4=neu.bar(x-.25,medias[3],width,label='F')
rec5=neu.bar(x,medias[4],width,label='B')

neu.set_ylabel('Média de Tempos')
neu.set_title('Teste de Grafico')
neu.set_xticks(x,labels)
neu.legend()

neu.bar_label(rec1,padding=3)
neu.bar_label(rec2,padding=3)
neu.bar_label(rec3,padding=3)
neu.bar_label(rec4,padding=3)
neu.bar_label(rec5,padding=3)

fig.tight_layout()


plt.figure()
plt.bar(labels,max_values)
plt.figure()
plt.bar(labels,medias)
plt.show()





#plt.xlabel('Smarts')
#plt.ylabel('Probability')
for i in range(len(labels)):
    plt.figure()
    plt.plot(range(len(listas[i])), listas[i],'r--')
    plt.title(i)
    #plt.text(60, .025, r'$\mu=100,\ \sigma=15$')
    #plt.axis([40, 160, 0, 0.03])
    plt.grid(True)
    plt.show()

from matplotlib.ticker import ScalarFormatter
class ScalarFormatterClass(ScalarFormatter):
   def _set_format(self):
      self.format = "%.9f"

import collections
freq = collections.Counter(listas[3])
test,ax = plt.subplots()
xScalarFormatter = ScalarFormatterClass(useMathText=True)
ax.xaxis.set_major_formatter(xScalarFormatter)
plt.hist(freq,bins=20)

plt.show()